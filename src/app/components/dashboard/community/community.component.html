<!--Adding the background, header, and menu-->
<div class="bg-gray"></div>
<app-header></app-header>
<app-menu></app-menu>

<!--Adding the content of dashboard-->
<section class="content">
    <div class="content-dashboard center">
        <div class="contain">
            <p class="text red-underline"></p>
            <!--search bar-->
            <div class="searchWrap center">
                <input type="text" class="searchBar" placeholder="Comprova si la teva comunitat ja existeix..." id="search-text-input" #input (keyup)="getAddress(input.value)">
                <div class="button-holder center">
                    <i class="fa fa-search" aria-hidden="true"></i>
                </div>
                <div *ngIf="searchedAddresses !== undefined" class="search-field" [ngClass]="{'hide': hide===true}">
                    <div *ngFor="let result of searchedAddresses | slice:0:5" class="search-results-bar">
                        <p>{{result.address}}</p>
                        <input type="button" value="uneix-te" class="button-3" (click)="joinCommunity(result)">
                    </div>
                </div>
            </div>
            <!--button register-->
            <div>
                <p class="txtWidth red-topline">Encara no tens una comunitat? Crea una per començar a fer servir l'aplicació</p>
                <div class="bt center">
                    <button class="button-1" routerLink='/registerCommunity'>+</button>
                </div>

            </div>
            <!--your communities-->
            <div class="containWrap center">
                <div *ngFor="let community of communityList" class="itemsWrap">
                    <div class="itemContain item1"><small>Nom</small>
                        <p>{{community.name}}</p>
                    </div>
                    <div class="itemContain item2"><small>CIF</small>
                        <p>{{community.cif}}</p>
                    </div>
                    <div class="itemContain item3"><small>Adreça</small>
                        <p>{{community.address}}</p>
                    </div>
                    <div class="itemContain item4"><small>Codi Postal</small>
                        <p>{{community.postalCode}}</p>
                    </div>
                    <div class="itemContain item5"><small>Ciutat</small>
                        <p>{{community.city}}</p>
                    </div>
                </div>
            </div>
            <!--show section based on the role-->
            <p class="red-underline">Peticions d'accés pendents</p>


            <p class="red-underline"></p>

        </div>
    </div>

</section>